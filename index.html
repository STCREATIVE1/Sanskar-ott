<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sanskar OTT - m3u8 Player</title>
    <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />
    <style>
        body { background: #000; color: #fff; font-family: sans-serif; margin: 0; }
        header { padding: 15px; text-align: center; background: #111; border-bottom: 2px solid red; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; padding: 20px; }
        .card { background: #222; padding: 10px; border-radius: 8px; text-align: center; cursor: pointer; }
        .card img { width: 100%; border-radius: 5px; height: 70px; object-fit: contain; }
        #player-box { width: 100%; max-width: 800px; margin: auto; }
    </style>
</head>
<body>

<header><h1>SANSKAR OTT PLAYER</h1></header>

<div id="player-box">
    <video id="my-video" class="video-js vjs-default-skin vjs-16-9" controls autoplay preload="auto"></video>
</div>

<div class="grid" id="list"></div>

<script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
<script>
    var player = videojs('my-video');

    fetch('live_data.json')
    .then(res => res.json())
    .then(data => {
        const listDiv = document.getElementById('list');
        data.forEach(item => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `<img src="${item.img}"><p>${item.title}</p>`;
            card.onclick = () => {
                player.src({ src: item.url, type: 'application/x-mpegURL' });
                player.play();
                window.scrollTo(0,0);
            };
            listDiv.appendChild(card);
        });
    });
</script>
</body>
</html>
